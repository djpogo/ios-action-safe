!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).IosActionSafe=e()}(this,function(){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function e(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,s)}return i}function o(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?e(Object(o),!0).forEach(function(t){var e,i,s;e=r,s=o[i=t],i in e?Object.defineProperty(e,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[i]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}var h="display: block; visibility: hidden; position: absolute; top: -100vh; pointer-events: none; overflow: visible";return function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=o({visibleHeight:"--visibleHeight",visibleWidth:"--visibleWidth",visiblePadding:"--visiblePadding",svw:"--svw",svh:"--svh",dvw:"--dvw",dvh:"--dvh",lvw:"--lvw",lvh:"--lvh",callback:void 0},t),this.bodyStyle=document.documentElement.style,this.addViewportMeasurement(),this.resizeCallback(null),this.setupListener()}var t,i,s;return t=e,(i=[{key:"resizeCallback",value:function(t){var e=window.innerHeight,i=window.innerWidth,s=this.viewportMeasure.getBoundingClientRect(),r=this.viewportDivS.getBoundingClientRect(),o=this.viewportDivD.getBoundingClientRect(),h=this.viewportDivL.getBoundingClientRect();this.viewportHeight=s.height,this.viewportWidth=s.width,this.viewportHeightS=r.height,this.viewportWidthS=r.width,this.viewportHeightD=o.height,this.viewportWidthD=o.width,this.viewportHeightL=h.height,this.viewportWidthL=h.width,this.bodyStyle.setProperty(this.settings.visibleHeight,"".concat(e,"px")),this.bodyStyle.setProperty(this.settings.visibleWidth,"".concat(i,"px")),this.bodyStyle.setProperty(this.settings.visiblePadding,"".concat(this.viewportHeight-e,"px")),this.bodyStyle.setProperty(this.settings.svw,"".concat(this.viewportWidthS,"px")),this.bodyStyle.setProperty(this.settings.svh,"".concat(this.viewportHeightS,"px")),this.bodyStyle.setProperty(this.settings.dvw,"".concat(this.viewportWidthD,"px")),this.bodyStyle.setProperty(this.settings.dvh,"".concat(this.viewportHeightD,"px")),this.bodyStyle.setProperty(this.settings.lvw,"".concat(this.viewportWidthL,"px")),this.bodyStyle.setProperty(this.settings.lvh,"".concat(this.viewportHeightL,"px")),this.settings.callback&&this.settings.callback(t,{viewportHeight:this.viewportHeight,viewportWidth:this.viewportWidth,visibleHeight:e,visibleWidth:i,visiblePadding:this.viewportHeight-e,svw:this.viewportWidthS,svh:this.viewportHeightS,dvw:this.viewportWidthD,dvh:this.viewportHeightD,lvw:this.viewportWidthL,lvh:this.viewportHeightL})}},{key:"setupListener",value:function(){var e=this;this.listenerSetup||(window.addEventListener("resize",function(t){window.cancelAnimationFrame(e.rafId),e.rafId=window.requestAnimationFrame(function(){e.resizeCallback(t)})}),this.listenerSetup=!0)}},{key:"addViewportMeasurement",value:function(){this.viewportMeasure=document.createElement("aside"),this.viewportMeasure.setAttribute("style","display: block; width: 100vw; height: 100vh; visibility: hidden; position: absolute; top: -100vh; pointer-events: none; overflow: visible"),this.viewportDivS=document.createElement("div"),this.viewportDivS.setAttribute("style","".concat(h,"; width: 100svw; height: 100svh;")),this.viewportDivD=document.createElement("div"),this.viewportDivD.setAttribute("style","".concat(h,"; width: 100dvw; height: 100dvh;")),this.viewportDivL=document.createElement("div"),this.viewportDivL.setAttribute("style","".concat(h,"; width: 100lvw; height: 100lvh;")),this.viewportMeasure.appendChild(this.viewportDivS),this.viewportMeasure.appendChild(this.viewportDivD),this.viewportMeasure.appendChild(this.viewportDivL),document.documentElement.appendChild(this.viewportMeasure);var t=this.viewportMeasure.getBoundingClientRect();this.viewportHeight=t.height,this.viewportWidth=t.width}}])&&r(t.prototype,i),s&&r(t,s),e}()});
