!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).IosActionSafe=t()}(this,function(){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function s(r){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?t(Object(s),!0).forEach(function(e){var t,i,n;t=r,n=s[i=e],i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):t(Object(s)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(s,e))})}return r}return function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings=s({visibleHeight:"--visibileHeight",visibleWidth:"--visibleWidth",visiblePadding:"--visiblePadding",callback:void 0},e),this.bodyStyle=document.documentElement.style,this.measureViewport(),this.resizeCallback(null),this.setupListener()}var e,i,n;return e=t,(i=[{key:"resizeCallback",value:function(e){var t=window.innerHeight,i=window.innerWidth,n=this.viewportMeasure.getBoundingClientRect();this.viewportHeight=n.height,this.viewportWidth=n.width,this.bodyStyle.setProperty(this.settings.visibleHeight,"".concat(t,"px")),this.bodyStyle.setProperty(this.settings.visibleHeight,"".concat(i,"px")),this.bodyStyle.setProperty(this.settings.visiblePadding,"".concat(this.viewportHeight-t,"px")),this.settings.callback&&this.settings.callback(e,{viewportHeight:this.viewportHeight,viewportWidth:this.viewportWidth,visibleHeight:t,visibleWidth:i,visiblePadding:this.viewportHeight-t})}},{key:"setupListener",value:function(){var e=this;this.listenerSetup||(window.addEventListener("resize",function(){return e.resizeCallback()}),this.listenerSetup=!0)}},{key:"measureViewport",value:function(){this.viewportMeasure=document.createElement("div"),this.viewportMeasure.style="display: block; width: 100vw; height: 100vh; visibility: hidden; position: absolute; top: -100vh; pointer-events: none";var e=this.viewportMeasure.getBoundingClientRect();document.documentElement.appendChild(this.viewportMeasure),this.viewportHeight=e.height,this.viewportWidth=e.width}}])&&r(e.prototype,i),n&&r(e,n),t}()});
